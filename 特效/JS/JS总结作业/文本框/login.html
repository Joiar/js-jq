<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>注册表单验证</title>
    <link rel="stylesheet" href="css/login.css"/>
</head>
<body>
<form action="aa.php">
    <div>
        <label><span>会员名：</span><input type="text" class="text" id="text" value='' /></label>
        <p class="meg" id="myps"><i class="ati"></i><u>5-25个字符，一个汉字为两个字符，推荐使用中文会员名</u></p>
    </div>
    <div><label><span></span><b id="count">0个字符</b></label></div>

    <div>
        <label><span>登录密码：</span><input type="password" class="text"/></label>
        <p class="meg"><i class="ati"></i>5-25个字符</p>
    </div>
    <div style="margin:3px 0 10px 0"><label><span></span><em class="active">弱</em><em >中</em><em>强</em></label>
    </div>
    <div style="margin-bottom:20px">
        <label><span>确认密码：</span><input type="password" class="text" /></label>
        <p class="meg"><i class="ati"></i>请再输入一次</p>
    </div>
    <div>
        <label>
            <span>验证码：</span><input class="text" type="text" style="width:50px"/>
            <img src="images/zz.png" width="102"/><a href="javascript:;" class="changeImg" title="重新获取验证码"></a>
        </label>
    </div>
    <div><input class="submitBtn btn" type="submit" value="同意协议并注册" id="submitBtn" onclick='return tijiao()'/></div>
</form>

</body>
<script type="text/javascript">
    var text = document.getElementById('text'),
        myps = document.getElementById('myps'),
        count = document.getElementById('count'),
        myi = myps.getElementsByTagName('i')[0];
        myu = myps.getElementsByTagName('u')[0];
    text.onfocus=function(){
        myps.style.display='block';
        var val = this.value;
        myi.className='ati';
        myu.innerText='5-25个字符，一个汉字为两个字符，推荐使用中文会员名' 
    }
    text.onblur=function(){
        var val = this.value;
        var reg = /[^\w\u4e00-\u9fa5]/;
        //不能都为数字/\D/  不能都为字母/[^a-zA-Z]/
        if (val=='') {
           myi.className='err';
           myu.innerText='用户名不能为空'
        }else if(val.length < 5 || val.length > 25 ) {
           myi.className='err';
           myu.innerText='输入的字符请在5-25之间'
        }else{
            if (reg.test(val)) {
                myi.className='err';
                myu.innerText='有非法字符' 
            }else{
                myi.className='ok';
                myu.innerText='正确'
            };  
        };
        
    }
    text.onkeyup=function(){
        count.style.visibility='visible';
        var vallen = this.value.length;
        count.innerHTML = vallen+'个字符';
    }

    function tijiao(){
        var ckeyres;
        text.focus();
        ckeyres = text.blur();
        if (ckeyres == false) {
            return false
        };
    }
</script>
</html>