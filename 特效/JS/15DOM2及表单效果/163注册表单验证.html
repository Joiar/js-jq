<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>163注册页</title>
<style type="text/css">
*{margin:0;padding:0}
body{font-size:12px;background:#F1F1F1}
a img{border:none}
a{text-decoration:none;color:#000}
input{vertical-align:middle}
ul li{list-style:none}

.header,.main,.footer{width:956px;margin:0 auto;}
.header{height:123px;}
.main{height:468px;border:1px solid #D1D1D1;width:700px;background:#fff;padding:50px 0 0 254px;}
.main div{height:28px;}
.main div img{vertical-align:middle}
.main select{vertical-align:middle}
.main div label{display:inline-block;width:73px;text-align:right;margin-right:8px;}
.main div label em{color:#FF4800;margin-right:6px;}
.main div input{width:305px;padding-top:6px;height:20px;padding-left:5px;border:1px solid #C1C1C1}
.main .emil{width:190px;margin-right:5px;color:#999;}
.main p{height:28px;margin-top:10px;padding-left:81px;color:#999;line-height:28px;}
.main p a{color:#1D50A2}
.main .agree{color:#000}
.main .agree input{margin-top:-3px;}
.footer{height:50px;text-align:center;line-height:50px;color:#666}
.footer a{color:#666}
.right{background:url(img/yes.gif) no-repeat left;color:#090;padding-left:20px;display:inline-block;height:16px;line-height:16px;}
.wrong{background:url(img/no.jpg) no-repeat left;color:#f00;padding-left:21px;display:inline-block;height:16px;line-height:16px;}
</style>
<script type="text/javascript">
window.onload=function(){//文档就绪函数开始
	//当表单元素取消聚焦或者单击提交按钮时进行表单验证	
	//为表单元素添加取消聚集动作，执行验证
	var allElement=document.login.elements;//获取所有的表单元素，得到的是一个数组
	for(i=0;i<allElement.length;i++){//通过循环为所有的表单元素添加取消聚焦事件
		allElement[i].onblur=function(){//取消聚集
			name=this.getAttribute("name")
			//判断原来是否有提示的文字，如果有删除
			//通过标签名来找span，得到的数组对象的长度如果>0，就说明有span存在
			if(this.parentNode.getElementsByTagName("span").length>0){
				this.parentNode.removeChild(this.parentNode.lastChild)	
			}
			//根据事件操作的对象来分别进行验证
			//验证邮箱
			if(name=='eml'){//判断是不是邮箱，是的话进行邮箱验证
				emlReg=/^\w{6,18}$/
									span=document.createElement("span");//创建一个新的span节点
	
				if(emlReg.test(this.value)){//匹配
				//	span=document.createElement("span");//创建一个新的span节点
					span.innerHTML="输入正确！";//为span添加内容
					span.className="right"//应用right样式
					this.parentNode.appendChild(span)//将span添加到页面  对象.parentNode可以获取该对象的父节点
					this.style.background="#fff"//背景色为白色
				}else{//不匹配
					//span=document.createElement("span");//创建一个新的span节点
					span.innerHTML="输入错误！";//为span添加内容
					span.className="wrong"//应用wrong样式
					this.parentNode.appendChild(span)//将span添加到页面  对象.parentNode可以获取该对象的父节点
					this.style.background="pink"//背景色为红色，从而提醒用户
					
				}//end是否匹配
			}//邮箱验证结束
			
			//验证密码
			if(name=='pwd'){//判断是不是邮箱，是的话进行邮箱验证
				pwdReg=/^.{6,16}$/	
				if(pwdReg.test(this.value)){//匹配
					//span=document.createElement("span");//创建一个新的span节点
					span.innerHTML="输入正确！";//为span添加内容
					span.className="right"//应用right样式
					this.parentNode.appendChild(span)//将span添加到页面  对象.parentNode可以获取该对象的父节点
					this.style.background="#fff"
				}else{//不匹配
					span=document.createElement("span");//创建一个新的span节点
					span.innerHTML="输入错误！";//为span添加内容
					span.className="wrong"//应用wrong样式
					this.parentNode.appendChild(span)//将span添加到页面  对象.parentNode可以获取该对象的父节点
					this.style.background="pink"
				}//end是否匹配
			}//邮箱密码结束
			
			//验证确认密码
			if(name=='pwdTwo'){//判断是不是邮箱，是的话进行邮箱验证				
				if(this.value==document.login.pwd.value&&this.value!=""){//匹配
					span=document.createElement("span");//创建一个新的span节点
					span.innerHTML="输入正确！";//为span添加内容
					span.className="right"//应用right样式
					this.parentNode.appendChild(span)//将span添加到页面  对象.parentNode可以获取该对象的父节点
					this.style.background="#fff"
				}else{//不匹配
					span=document.createElement("span");//创建一个新的span节点
					span.innerHTML="输入错误！";//为span添加内容
					span.className="wrong"//应用wrong样式
					this.parentNode.appendChild(span)//将span添加到页面  对象.parentNode可以获取该对象的父节点
					this.style.background="pink"
				}//end是否匹配
			}//确认密码结束
			
			//验证手机号
			if(name=='mobil'){//判断是不是邮箱，是的话进行邮箱验证	
				mobilReg=/^1[3|4|5|8]\d{9}$/				
				if(mobilReg.test(this.value)){//匹配
					span=document.createElement("span");//创建一个新的span节点
					span.innerHTML="输入正确！";//为span添加内容
					span.className="right"//应用right样式
					this.parentNode.appendChild(span)//将span添加到页面  对象.parentNode可以获取该对象的父节点
					this.style.background="#fff"
				}else{//不匹配
					span=document.createElement("span");//创建一个新的span节点
					span.innerHTML="输入错误！";//为span添加内容
					span.className="wrong"//应用wrong样式
					this.parentNode.appendChild(span)//将span添加到页面  对象.parentNode可以获取该对象的父节点
					this.style.background="pink"
				}//end是否匹配
			}//确认密码结束
			
		}//end onblur
		allElement[i].onfocus=function(){//聚焦事件
			this.style.background="#ffc";//当聚焦到文本框时让背景色发生改变
			if(this.value=="建议输入手机号码注册"){this.value=""}
		}//end onfocus
		allElement[i].onkeyup=function(){	//当输入内容时直接验证		
			this.blur()//让它取消聚焦
			this.focus()//聚焦
		}
		
	}//end for
	
	//为按钮添加动作，执行验证
	document.getElementById("send").onmousedown=function(){//当鼠标按下时验证
			//alert("aaa")
			for(i=0;i<allElement.length;i++){
				if(allElement[i].name!="sel"){
					allElement[i].focus();
					allElement[i].blur();
				}
			}
			
	}//end onmousedown
	document.getElementById("send").onmouseup=function(){//当鼠标按下并弹起时，判断有没有错误
	//利用的原理：通过判断span的class样式是不是wrong就可以知道有没有错误
		var ErrNum=0;//声明一个统计错误的变量，作为计数器
		allspan=document.login.getElementsByTagName("span")
		for(i=0;i<allspan.length;i++){
			if(allspan[i].className=="wrong"){//判断span的class样式是不是wrong
				ErrNum++//让这个错误计算器自增1
			}
		}
		//alert(ErrNum)
		if(ErrNum==0){
			document.login.submit()//	表单域对象.submit()提交表单
		}
		
	}//end onmouseup
	
}//end onload

</script>
</head>

<body>
<div class="header"><img src="img/header.png" /></div>
<div class="main" id="loginForm">
	<form name="login" action="aa.php" method="post">
    	<div><label><em>*</em>邮件地址</label><input type="text" name="eml" value="建议输入手机号码注册" class="emil" />@
        	<select name="sel">
            	<option value="1">163.com</option>
                <option value="2">qq.com</option>
                <option value="3">yahoo.com</option>
                <option value="4">126.com</option>
            </select>
            
        </div>
        <p>6-18个字符，可使用字母、数字、下划线。推荐以手机号码直接注册</p>
        
        <div><label><em>*</em>密码</label><input type="password" name="pwd" /></div>
        <p>6~16个字符，区分大小写</p>
        
         <div><label><em>*</em>确认密码</label><input type="password" name="pwdTwo" /></div>
         <p>请再次输入密码</p>
         
         <div><label>手机号码</label><input type="text" name="mobil" /></div>
         <p>密码遗忘或被盗时，可通过手机短信取回密码</p>
         
         <div><label><em>*</em>验证码</label><input type="text" name="code" /><img src="img/yzm.png" /></div>
         <p>请输入图片中的字符<a href="#">看不清楚？换张图片</a></p>
         
         <p class="agree"><input type="checkbox" value="yes" checked="checked" />同意"<a href="#">服务条款</a>"和"<a href="#">隐私权保护和个人信息利用政策</a>"</p>
  		 <p><input type="image" src="img/sub.png" id="send" onclick="return false" /></p>
   
    </form>
</div>
<div class="footer"><a href="#">关于网易</a>  <a href="#">关于网易免费邮</a>  <a href="#">邮箱官方博客</a>  <a href="#">客户服务</a>  <a href="#">隐私政策</a>  |  网易公司版权所有 © 1997-2012 </div>
</body>
</html>
